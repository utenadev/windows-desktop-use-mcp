# 実装依頼書: Vision 最適化ロジック (Phase 1: オーバーレイ)

## 📌 コンテキスト
汎用 LLM（Claude 等）が、連続キャプチャされた画像を「動画の一部」として正確に認識できるよう、画像に最小限の視覚的ヒントを焼き込むロジックを実装します。

## 1. 実装要件 (qwencode への依頼内容)
Vision 専門家としての知見を活かし、以下の C# メソッドを `System.Drawing.Common` を用いて作成してください。

### A. タイムスタンプ・オーバーレイ (`OverlayTimestamp`)
- **目的**: AI に「現在の再生位置」を文字認識（OCR）させる。
- **仕様**:
    - 画像の左上に `[00:00:05.2]` 形式で経過時間を描画。
    - **AI フレンドリーなスタイル**: 黒い半透明の背景ボックスに白文字（またはその逆）を配置し、元の映像の色に左右されず確実に読み取れるようにする。
    - フォントは等幅（Consolas や Courier New 等の代替）を推奨。

### B. シーン変化ラベル・オーバーレイ (`OverlayEventTag`)
- **目的**: `VisualChangeDetector` が検知したイベント（Scene Change 等）を視覚的に強調する。
- **仕様**:
    - `[SCENE CHANGE]` などのイベントタグがある場合、タイムスタンプの隣または下部に異なる色（例: 黄色）で強調描画する。

## 2. 考慮すべき点
- **軽量性**: 毎秒数回のキャプチャループ内で実行されるため、可能な限り高速な描画（`Graphics` オブジェクトの最小限の操作）で行うこと。
- **汎用性**: 640px 程度の縮小画像でも文字が潰れないフォントサイズ・太さを選択すること。

## 3. 出力形式
- `ScreenCaptureService.cs` または独立したユーティリティクラスに組み込み可能な、完結した C# メソッドのコードを提供してください。
- 英語のコメントを付与し、なぜそのスタイル（色、位置、サイズ）が AI にとって最適なのかを簡単に説明してください。
